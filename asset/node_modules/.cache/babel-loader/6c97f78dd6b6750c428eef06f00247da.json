{"ast":null,"code":"var _jsxFileName = \"/home/freshaluck/Downloads/new/askgo/assets/asset/src/utils/requireAuth.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { addFlashMessage } from '../actions/flashMessages';\nexport default function (ComposedComponent) {\n  class Authenticate extends React.Component {\n    componentWillMount() {\n      if (!this.props.isAuthenticated) {\n        this.props.addFlashMessage({\n          type: 'error',\n          text: 'You need to login to access this page'\n        });\n        this.context.router.push('/login');\n      }\n    }\n\n    componentWillUpdate(nextProps) {\n      if (!nextProps.isAuthenticated) {\n        this.context.router.push('/');\n      }\n    }\n\n    render() {\n      return React.createElement(ComposedComponent, Object.assign({}, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25\n        },\n        __self: this\n      }));\n    }\n\n  }\n\n  Authenticate.propTypes = {\n    isAuthenticated: React.PropTypes.bool.isRequired,\n    addFlashMessage: React.PropTypes.func.isRequired\n  };\n  Authenticate.contextTypes = {\n    router: React.PropTypes.object.isRequired\n  };\n\n  function mapStateToProps(state) {\n    return {\n      isAuthenticated: state.auth.isAuthenticated\n    };\n  }\n\n  return connect(mapStateToProps, {\n    addFlashMessage\n  })(Authenticate);\n}","map":{"version":3,"sources":["/home/freshaluck/Downloads/new/askgo/assets/asset/src/utils/requireAuth.js"],"names":["React","connect","addFlashMessage","ComposedComponent","Authenticate","Component","componentWillMount","props","isAuthenticated","type","text","context","router","push","componentWillUpdate","nextProps","render","propTypes","PropTypes","bool","isRequired","func","contextTypes","object","mapStateToProps","state","auth"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,eAAT,QAAgC,0BAAhC;AAEA,eAAe,UAASC,iBAAT,EAA4B;AACzC,QAAMC,YAAN,SAA2BJ,KAAK,CAACK,SAAjC,CAA2C;AACzCC,IAAAA,kBAAkB,GAAG;AACnB,UAAI,CAAC,KAAKC,KAAL,CAAWC,eAAhB,EAAiC;AAC/B,aAAKD,KAAL,CAAWL,eAAX,CAA2B;AACzBO,UAAAA,IAAI,EAAE,OADmB;AAEzBC,UAAAA,IAAI,EAAE;AAFmB,SAA3B;AAIA,aAAKC,OAAL,CAAaC,MAAb,CAAoBC,IAApB,CAAyB,QAAzB;AACD;AACF;;AAEDC,IAAAA,mBAAmB,CAACC,SAAD,EAAY;AAC7B,UAAI,CAACA,SAAS,CAACP,eAAf,EAAgC;AAC9B,aAAKG,OAAL,CAAaC,MAAb,CAAoBC,IAApB,CAAyB,GAAzB;AACD;AACF;;AAEDG,IAAAA,MAAM,GAAG;AACP,aACE,oBAAC,iBAAD,oBAAuB,KAAKT,KAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF;AAGD;;AArBwC;;AAwB3CH,EAAAA,YAAY,CAACa,SAAb,GAAyB;AACvBT,IAAAA,eAAe,EAAER,KAAK,CAACkB,SAAN,CAAgBC,IAAhB,CAAqBC,UADf;AAEvBlB,IAAAA,eAAe,EAAEF,KAAK,CAACkB,SAAN,CAAgBG,IAAhB,CAAqBD;AAFf,GAAzB;AAKAhB,EAAAA,YAAY,CAACkB,YAAb,GAA4B;AAC1BV,IAAAA,MAAM,EAAEZ,KAAK,CAACkB,SAAN,CAAgBK,MAAhB,CAAuBH;AADL,GAA5B;;AAIA,WAASI,eAAT,CAAyBC,KAAzB,EAAgC;AAC9B,WAAO;AACLjB,MAAAA,eAAe,EAAEiB,KAAK,CAACC,IAAN,CAAWlB;AADvB,KAAP;AAGD;;AAED,SAAOP,OAAO,CAACuB,eAAD,EAAkB;AAAEtB,IAAAA;AAAF,GAAlB,CAAP,CAA8CE,YAA9C,CAAP;AACD","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { addFlashMessage } from '../actions/flashMessages';\n\nexport default function(ComposedComponent) {\n  class Authenticate extends React.Component {\n    componentWillMount() {\n      if (!this.props.isAuthenticated) {\n        this.props.addFlashMessage({\n          type: 'error',\n          text: 'You need to login to access this page'\n        });\n        this.context.router.push('/login');\n      }\n    }\n\n    componentWillUpdate(nextProps) {\n      if (!nextProps.isAuthenticated) {\n        this.context.router.push('/');\n      }\n    }\n\n    render() {\n      return (\n        <ComposedComponent {...this.props} />\n      );\n    }\n  }\n\n  Authenticate.propTypes = {\n    isAuthenticated: React.PropTypes.bool.isRequired,\n    addFlashMessage: React.PropTypes.func.isRequired\n  }\n\n  Authenticate.contextTypes = {\n    router: React.PropTypes.object.isRequired\n  }\n\n  function mapStateToProps(state) {\n    return {\n      isAuthenticated: state.auth.isAuthenticated\n    };\n  }\n\n  return connect(mapStateToProps, { addFlashMessage })(Authenticate);\n}"]},"metadata":{},"sourceType":"module"}