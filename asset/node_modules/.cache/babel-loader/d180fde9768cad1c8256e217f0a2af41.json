{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Table = undefined;\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nrequire(\"./Table.css\");\n\nvar _fetchHoc = require(\"fetch-hoc\");\n\nvar _fetchHoc2 = _interopRequireDefault(_fetchHoc);\n\nvar _DataOrUrl = require(\"./utils/DataOrUrl\");\n\nvar _DataOrUrl2 = _interopRequireDefault(_DataOrUrl);\n\nvar _isNumber = require(\"is-number\");\n\nvar _isNumber2 = _interopRequireDefault(_isNumber);\n\nvar _sort = require(\"../assets/images/sort.svg\");\n\nvar _sort2 = _interopRequireDefault(_sort);\n\nvar _reactContentLoader = require(\"react-content-loader\");\n\nvar _reactContentLoader2 = _interopRequireDefault(_reactContentLoader);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar isValidDate = require(\"is-valid-date\");\n\nvar MyLoader = function MyLoader() {\n  return _react2.default.createElement(_reactContentLoader2.default, {\n    height: 50,\n    width: 1500,\n    speed: 1,\n    primaryColor: \"#f3f3f3\",\n    secondaryColor: \"#d6d2d2\"\n  }, _react2.default.createElement(\"rect\", {\n    x: \"-5.38\",\n    y: \"20.13\",\n    rx: \"0\",\n    ry: \"0\",\n    width: \"100\",\n    height: \"2.24\"\n  }));\n};\n\nvar Table = exports.Table = function (_Component) {\n  _inherits(Table, _Component);\n\n  function Table(props) {\n    _classCallCheck(this, Table);\n\n    var _this = _possibleConstructorReturn(this, (Table.__proto__ || Object.getPrototypeOf(Table)).call(this, props));\n\n    _this.state = {\n      head: _this.props.head,\n      data: _this.props.data,\n      isLoading: true,\n      i: 1\n    };\n    return _this;\n  }\n\n  _createClass(Table, [{\n    key: \"renderData\",\n    value: function renderData(items) {\n      var _this2 = this;\n\n      return items.map(function (row, index) {\n        return _react2.default.createElement(\"tr\", {\n          onClick: function onClick() {\n            return _this2.props.onRowClick(row);\n          },\n          className: _this2.props.trClassName,\n          key: index\n        }, row.map(function (data, index) {\n          return _react2.default.createElement(\"td\", {\n            key: index\n          }, data);\n        }));\n      });\n    }\n  }, {\n    key: \"sortData\",\n    value: function sortData(head, index) {\n      var _this3 = this;\n\n      var array = [];\n      this.props.allData.map(function (d) {\n        array.push(Object.values(d));\n      });\n      var sortedData = array.sort(function (a, b) {\n        // If number\n        var c = (0, _isNumber2.default)(a[index]) ? parseInt(a[index], array.length) : a[index];\n        var d = (0, _isNumber2.default)(b[index]) ? parseInt(b[index], array.length) : b[index]; // If date\n\n        c = isValidDate(a[index]) ? new Date(a[index]) : c;\n        d = isValidDate(b[index]) ? new Date(b[index]) : d;\n        if (_this3.state.i === 0) return c < d ? -1 : 1;else {\n          return c > d ? -1 : 1;\n        }\n      });\n      this.setState({\n        data: sortedData,\n        i: this.state.i === 0 ? 1 : 0\n      });\n      return this.props.sortedData(sortedData);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _props = this.props,\n          isLoading = _props.isLoading,\n          success = _props.success;\n\n      if (!isLoading && success) {\n        var data = this.props.data;\n        return _react2.default.createElement(\"div\", {\n          className: \"table-responsive bg-white\",\n          style: {\n            marginTop: 5\n          }\n        }, this.props.data === undefined ? this.props.errormsg : _react2.default.createElement(\"table\", {\n          \"data-resizable\": \"true\",\n          className: this.props.tableStyle ? this.props.tableStyle : \"display nowrap table table-hover table-striped table-bordered\",\n          cellSpacing: \"0\",\n          width: \"100%\",\n          style: {\n            tableLayout: \"fixed\",\n            zIndex: 0\n          }\n        }, _react2.default.createElement(\"thead\", null, _react2.default.createElement(\"tr\", null, Object.values(this.props.head).map(function (h, index) {\n          return _react2.default.createElement(\"th\", {\n            key: h\n          }, h, _this4.props.sort ? _react2.default.createElement(\"img\", {\n            alt: \"\",\n            src: _sort2.default,\n            height: 20,\n            onClick: function onClick() {\n              _this4.sortData(h, index);\n            },\n            style: {\n              float: \"right\",\n              marginTop: \"7px\"\n            }\n          }) : \"\");\n        }))), _react2.default.createElement(\"tbody\", {\n          className: \"sort\"\n        }, this.renderData(data))));\n      } else {\n        return _react2.default.createElement(\"div\", {\n          className: \"table-responsive m-t-40 bg-white\",\n          style: {\n            justifyContent: \"center\",\n            display: \"flex\",\n            minHeight: 100\n          }\n        }, this.props.loadingmsg);\n      }\n    }\n  }]);\n\n  return Table;\n}(_react.Component);\n\nTable.defaultProps = {\n  onRowClick: function onRowClick() {}\n};\nexports.default = (0, _DataOrUrl2.default)(Table, (0, _fetchHoc2.default)(function (props) {\n  return props.url;\n})(Table));","map":null,"metadata":{},"sourceType":"script"}